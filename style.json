{
	"version": 8,
	"name": "osm",
	"metadata": {
		"maputnik:renderer": "mbgljs"
	},
	"glyphs": "https://geographyclub.github.io/toronto-map/assets/fonts/{fontstack}/{range}.pbf",
	"sprite": "https://geographyclub.github.io/toronto-map/assets/sprites/sprites-maki",
	"sources": {
        "osm": {
            "type": "vector",
            "url": "https://vector.openstreetmap.org/shortbread_v1/tilejson.json"
        },
        "lake_ontario_bathymetry": {
            "type": "vector",
            "tiles": ["https://geographyclub.github.io/toronto-map/data/lake_ontario_bathymetry/{z}/{x}/{y}.pbf"]
        },
        "toronto_streams": {
            "type": "vector",
            "tiles": ["https://geographyclub.github.io/toronto-map/data/toronto_streams/{z}/{x}/{y}.pbf"]
        }
	},
	"layers": [
		{
			"id": "background",
			"type": "background",
			"paint": {
				"background-color": "hsl(252, 18%, 27%)"
			}
		},
		{
			"source": "osm",
			"id": "land-natural",
			"type": "fill",
			"source-layer": "land",
			"filter": [ "in", "kind", "brownfield", "farmland", "farmyard", "greenfield", "greenhouse_horticulture", "orchard", "plant_nursery", "vineyard", "park", "village_green", "recreation_ground", "allotments", "garden", "miniature_golf", "playground", "golf_course", "forest", "grass", "grassland", "meadow", "wet_meadow", "heath", "scrub", "beach", "sand", "bog", "marsh", "string_bog", "swamp" ],
			"paint": {
			  "fill-color": "hsl(165, 30%, 36%)",
			  "fill-opacity": [ "interpolate", [ "linear" ], [ "zoom" ], 16, 0, 17, 1 ]
			},
			"minzoom": 16
		},
        {
            "id": "toronto_streams",
            "source": "toronto_streams",
            "source-layer": "toronto_streams",
            "type": "line",
            "paint": {
                "line-color": [
                "step", ["get", "accum"],
                "hsl(220, 95%, 45%)",
                10,   "hsl(210, 85%, 60%)",
                50,   "hsl(205, 80%, 70%)",
                100,  "hsl(200, 75%, 80%)",
                500,  "hsl(195, 70%, 85%)",
                1000, "hsl(190, 65%, 88%)",
                2000, "hsl(185, 60%, 90%)",
                5000, "hsl(180, 55%, 93%)",
                8000, "hsl(175, 50%, 95%)",
                10000,"hsl(0, 0%, 100%)"
            ],
                "line-width": 0.5,
                "line-opacity":  ["interpolate", ["linear"], ["zoom"], 12.5, 1, 13, 0]
            }
        },
		{
			"source": "osm",
			"id": "water",
			"type": "fill",
			"source-layer": "water_polygons",
			"filter": [ "in", "kind", "water", "river", "reservoir", "basin", "dock" ],
			"paint": {
				"fill-color": "hsl(216, 44%, 26%)"
			}
		},
        {
            "id": "lake_ontario_bathymetry",
            "source": "lake_ontario_bathymetry",
            "source-layer": "lake_ontario_bathymetry",
            "type": "line",
            "paint": {
                "line-color": [
                    "step", ["get", "DEPTH"],
                    "hsl(200, 80%, 95%)",
                    20,  "hsl(205, 85%, 90%)",
                    40,  "hsl(210, 85%, 80%)",
                    60,  "hsl(215, 85%, 70%)",
                    80,  "hsl(220, 85%, 60%)",
                    100, "hsl(225, 85%, 50%)",
                    120, "hsl(230, 85%, 45%)",
                    140, "hsl(235, 90%, 40%)",
                    160, "hsl(240, 95%, 30%)",
                    180, "hsl(245, 100%, 25%)"
                ],
                "line-width": 0.5,
                "line-opacity":  ["interpolate", ["linear"], ["zoom"], 12.5, 1, 13, 0]
            }
        }
	]
}
